{{!
  This file is part of Moodle - http://moodle.org/
  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}

{{=<% %>=}}
<div style="height:100%; background: <%bg%>">
  <ion-grid class="container mt-4">
    <ion-row class="row">
      <ion-col class="col-md-12">
            <%#empty%>
            <ion-list>
              <ion-item style="color: #000">
                <ion-label style="margin-left: 10px;">Derzeit keine Todos</ion-label>
              </ion-item>
            </ion-list>
            <%/empty%>
            <%^empty%>
            <ion-list>
              <%#todos%>
              <ion-item style="color: #000">
				<%^deleted%>
                <ion-checkbox
                core-site-plugins-call-ws checked
                name="local_coodle_change_todo" [params]="{todoid: <%id%>, method: 'done'}"
                confirmMessage="Confirm?"
                refreshOnSuccess="false"></ion-checkbox>
				<%/deleted%>
				<%#deleted%>
                <ion-checkbox
                core-site-plugins-call-ws
                name="local_coodle_change_todo" [params]="{todoid: <%id%>, method: 'uncheck'}"
                confirmMessage="Confirm?"
                refreshOnSuccess="false"></ion-checkbox>
				<%/deleted%>
                <ion-label style="margin-left: 10px;"> <%text%></ion-label>
              </ion-item>
              <%/todos%>
            </ion-list>
            <%/empty%>
        </ion-col>
      </ion-row>
  </ion-grid>
</div>

<ion-button (load)="refreshContent(false);">doRefresh</ion-button>
<ion-button (click)="updateContent({test: test}, 'local_coodle', 'view_todos');">test</ion-button>
<ion-button (click)="updateContent({test: test}, 'local_coodle', 'view_adress');">test</ion-button>
